(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,a){e.exports=a.p+"static/media/loading.c5590569.svg"},252:function(e,t,a){e.exports=a.p+"static/media/logo.fe45065c.png"},253:function(e,t,a){e.exports=a.p+"static/media/demo.c9996a1b.gif"},261:function(e,t,a){e.exports=a(312)},266:function(e,t,a){},309:function(e,t,a){var n={"./1c":60,"./1c.js":60,"./abnf":61,"./abnf.js":61,"./accesslog":62,"./accesslog.js":62,"./actionscript":63,"./actionscript.js":63,"./ada":64,"./ada.js":64,"./angelscript":65,"./angelscript.js":65,"./apache":66,"./apache.js":66,"./applescript":67,"./applescript.js":67,"./arcade":68,"./arcade.js":68,"./arduino":69,"./arduino.js":69,"./armasm":70,"./armasm.js":70,"./asciidoc":71,"./asciidoc.js":71,"./aspectj":72,"./aspectj.js":72,"./autohotkey":73,"./autohotkey.js":73,"./autoit":74,"./autoit.js":74,"./avrasm":75,"./avrasm.js":75,"./awk":76,"./awk.js":76,"./axapta":77,"./axapta.js":77,"./bash":78,"./bash.js":78,"./basic":79,"./basic.js":79,"./bnf":80,"./bnf.js":80,"./brainfuck":81,"./brainfuck.js":81,"./cal":82,"./cal.js":82,"./capnproto":83,"./capnproto.js":83,"./ceylon":84,"./ceylon.js":84,"./clean":85,"./clean.js":85,"./clojure":86,"./clojure-repl":87,"./clojure-repl.js":87,"./clojure.js":86,"./cmake":88,"./cmake.js":88,"./coffeescript":89,"./coffeescript.js":89,"./coq":90,"./coq.js":90,"./cos":91,"./cos.js":91,"./cpp":92,"./cpp.js":92,"./crmsh":93,"./crmsh.js":93,"./crystal":94,"./crystal.js":94,"./cs":95,"./cs.js":95,"./csp":96,"./csp.js":96,"./css":97,"./css.js":97,"./d":98,"./d.js":98,"./dart":99,"./dart.js":99,"./delphi":100,"./delphi.js":100,"./diff":101,"./diff.js":101,"./django":102,"./django.js":102,"./dns":103,"./dns.js":103,"./dockerfile":104,"./dockerfile.js":104,"./dos":105,"./dos.js":105,"./dsconfig":106,"./dsconfig.js":106,"./dts":107,"./dts.js":107,"./dust":108,"./dust.js":108,"./ebnf":109,"./ebnf.js":109,"./elixir":110,"./elixir.js":110,"./elm":111,"./elm.js":111,"./erb":112,"./erb.js":112,"./erlang":113,"./erlang-repl":114,"./erlang-repl.js":114,"./erlang.js":113,"./excel":115,"./excel.js":115,"./fix":116,"./fix.js":116,"./flix":117,"./flix.js":117,"./fortran":118,"./fortran.js":118,"./fsharp":119,"./fsharp.js":119,"./gams":120,"./gams.js":120,"./gauss":121,"./gauss.js":121,"./gcode":122,"./gcode.js":122,"./gherkin":123,"./gherkin.js":123,"./glsl":124,"./glsl.js":124,"./gml":125,"./gml.js":125,"./go":126,"./go.js":126,"./golo":127,"./golo.js":127,"./gradle":128,"./gradle.js":128,"./groovy":129,"./groovy.js":129,"./haml":130,"./haml.js":130,"./handlebars":131,"./handlebars.js":131,"./haskell":132,"./haskell.js":132,"./haxe":133,"./haxe.js":133,"./hsp":134,"./hsp.js":134,"./htmlbars":135,"./htmlbars.js":135,"./http":136,"./http.js":136,"./hy":137,"./hy.js":137,"./inform7":138,"./inform7.js":138,"./ini":139,"./ini.js":139,"./irpf90":140,"./irpf90.js":140,"./isbl":141,"./isbl.js":141,"./java":142,"./java.js":142,"./javascript":143,"./javascript.js":143,"./jboss-cli":144,"./jboss-cli.js":144,"./json":145,"./json.js":145,"./julia":146,"./julia-repl":147,"./julia-repl.js":147,"./julia.js":146,"./kotlin":148,"./kotlin.js":148,"./lasso":149,"./lasso.js":149,"./ldif":150,"./ldif.js":150,"./leaf":151,"./leaf.js":151,"./less":152,"./less.js":152,"./lisp":153,"./lisp.js":153,"./livecodeserver":154,"./livecodeserver.js":154,"./livescript":155,"./livescript.js":155,"./llvm":156,"./llvm.js":156,"./lsl":157,"./lsl.js":157,"./lua":158,"./lua.js":158,"./makefile":159,"./makefile.js":159,"./markdown":160,"./markdown.js":160,"./mathematica":161,"./mathematica.js":161,"./matlab":162,"./matlab.js":162,"./maxima":163,"./maxima.js":163,"./mel":164,"./mel.js":164,"./mercury":165,"./mercury.js":165,"./mipsasm":166,"./mipsasm.js":166,"./mizar":167,"./mizar.js":167,"./mojolicious":168,"./mojolicious.js":168,"./monkey":169,"./monkey.js":169,"./moonscript":170,"./moonscript.js":170,"./n1ql":171,"./n1ql.js":171,"./nginx":172,"./nginx.js":172,"./nimrod":173,"./nimrod.js":173,"./nix":174,"./nix.js":174,"./nsis":175,"./nsis.js":175,"./objectivec":176,"./objectivec.js":176,"./ocaml":177,"./ocaml.js":177,"./openscad":178,"./openscad.js":178,"./oxygene":179,"./oxygene.js":179,"./parser3":180,"./parser3.js":180,"./perl":181,"./perl.js":181,"./pf":182,"./pf.js":182,"./pgsql":183,"./pgsql.js":183,"./php":184,"./php.js":184,"./plaintext":185,"./plaintext.js":185,"./pony":186,"./pony.js":186,"./powershell":187,"./powershell.js":187,"./processing":188,"./processing.js":188,"./profile":189,"./profile.js":189,"./prolog":190,"./prolog.js":190,"./properties":191,"./properties.js":191,"./protobuf":192,"./protobuf.js":192,"./puppet":193,"./puppet.js":193,"./purebasic":194,"./purebasic.js":194,"./python":195,"./python.js":195,"./q":196,"./q.js":196,"./qml":197,"./qml.js":197,"./r":198,"./r.js":198,"./reasonml":199,"./reasonml.js":199,"./rib":200,"./rib.js":200,"./roboconf":201,"./roboconf.js":201,"./routeros":202,"./routeros.js":202,"./rsl":203,"./rsl.js":203,"./ruby":204,"./ruby.js":204,"./ruleslanguage":205,"./ruleslanguage.js":205,"./rust":206,"./rust.js":206,"./sas":207,"./sas.js":207,"./scala":208,"./scala.js":208,"./scheme":209,"./scheme.js":209,"./scilab":210,"./scilab.js":210,"./scss":211,"./scss.js":211,"./shell":212,"./shell.js":212,"./smali":213,"./smali.js":213,"./smalltalk":214,"./smalltalk.js":214,"./sml":215,"./sml.js":215,"./sqf":216,"./sqf.js":216,"./sql":217,"./sql.js":217,"./stan":218,"./stan.js":218,"./stata":219,"./stata.js":219,"./step21":220,"./step21.js":220,"./stylus":221,"./stylus.js":221,"./subunit":222,"./subunit.js":222,"./swift":223,"./swift.js":223,"./taggerscript":224,"./taggerscript.js":224,"./tap":225,"./tap.js":225,"./tcl":226,"./tcl.js":226,"./tex":227,"./tex.js":227,"./thrift":228,"./thrift.js":228,"./tp":229,"./tp.js":229,"./twig":230,"./twig.js":230,"./typescript":231,"./typescript.js":231,"./vala":232,"./vala.js":232,"./vbnet":233,"./vbnet.js":233,"./vbscript":234,"./vbscript-html":235,"./vbscript-html.js":235,"./vbscript.js":234,"./verilog":236,"./verilog.js":236,"./vhdl":237,"./vhdl.js":237,"./vim":238,"./vim.js":238,"./x86asm":239,"./x86asm.js":239,"./xl":240,"./xl.js":240,"./xml":241,"./xml.js":241,"./xquery":242,"./xquery.js":242,"./yaml":243,"./yaml.js":243,"./zephir":244,"./zephir.js":244};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=309},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),l=(a(266),a(18)),o=a(316),i=a(7),u=a.n(i),m=a(9),p=a(30),f=a(6),j=a(245),d=a.n(j),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},b=r.a.createContext(),g=function(){return Object(n.useContext)(b)},E=function(e){var t=e.component,a=e.path,c=Object(p.a)(e,["component","path"]),s=g(),o=s.isAuthenticated,i=s.loginWithRedirect;Object(n.useEffect)(function(){!function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return e.next=3,i({appState:{targetUrl:a}});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,i,a]);return r.a.createElement(l.a,Object.assign({path:a,render:function(e){return!0===o?r.a.createElement(t,e):null}},c))},v=a(247),k=a.n(v),y=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:k.a,alt:"Loading"}))},O=a(20),x=a(17),w=a(313),S=a(314),N=a(315),C=a(317),P=a(318),A=a(319),T=a(320),q=a(249),R=a(341),B=a(321),_=a(322),D=a(323),L=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],s=g(),l=s.user,i=s.isAuthenticated,u=s.loginWithRedirect,m=s.logout,p=function(){return m({returnTo:window.location.origin})},j=[{name:"Artisans",path:"/artisans"},{name:"Catalogs",path:"/catalogs",active:function(e,t){return t.pathname.startsWith("/catalogs")}},{name:"My Artisans",path:"/my-artisans",auth:!0},{name:"Wishlist",path:"/wishlist",auth:!0},{name:"Submit",path:"/submit",auth:!0},{name:"Bot",path:"/bot"}].filter(function(e){return!e.hasOwnProperty("auth")||!0===e.auth&&i||!1===e.auth&&!i}).map(function(e){var t=!1!==e.exact;return console.log("linkDef exact",e,t),r.a.createElement(w.a,{key:"nv_".concat(e.name)},r.a.createElement(S.a,{tag:O.a,to:e.path,exact:t,isActive:e.active,activeClassName:"router-link-".concat(!1===t?"":"exact-","active")},e.name))});return r.a.createElement("div",{className:"nav-container"},r.a.createElement(N.a,{color:"light",light:!0,expand:"md"},r.a.createElement(o.a,null,r.a.createElement(C.a,{className:"logo"}),r.a.createElement(P.a,{onClick:function(){return c(!a)}}),r.a.createElement(A.a,{isOpen:a,navbar:!0},r.a.createElement(T.a,{className:"mr-auto",navbar:!0},j),r.a.createElement(T.a,{className:"d-none d-md-block",navbar:!0},!i&&r.a.createElement(w.a,null,r.a.createElement(q.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return u({})}},"Log in")),i&&r.a.createElement(R.a,{nav:!0,inNavbar:!0},r.a.createElement(B.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:l.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement(_.a,null,r.a.createElement(D.a,{header:!0},l.name),r.a.createElement(D.a,{tag:O.a,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},r.a.createElement(x.a,{icon:"user",className:"mr-3"})," Profile"),r.a.createElement(D.a,{id:"qsLogoutBtn",onClick:function(){return p()}},r.a.createElement(x.a,{icon:"power-off",className:"mr-3"})," Log out")))),!i&&r.a.createElement(T.a,{className:"d-md-none",navbar:!0},r.a.createElement(w.a,null,r.a.createElement(q.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return u({})}},"Log in"))),i&&r.a.createElement(T.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(w.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:l.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},l.name))),r.a.createElement(w.a,null,r.a.createElement(x.a,{icon:"user",className:"mr-3"}),r.a.createElement(O.a,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(w.a,null,r.a.createElement(x.a,{icon:"power-off",className:"mr-3"}),r.a.createElement(O.a,{to:"#",id:"qsLogoutBtn",onClick:function(){return p()}},"Log out")))))))},M=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",null,"Brought to you by ",r.a.createElement("a",{href:"https://mrkeebs.com"},"MrKeebs")))},W=a(14),z=Object(W.a)(),U=Object(l.g)(function(e){return e.history.push("/artisans"),r.a.createElement("div",null,"Home")}),F=a(252),I=a.n(F),X=a(253),J=a.n(X),H=function(){return r.a.createElement("div",{className:"text-center hero my-3"},r.a.createElement("img",{className:"mb-3 app-logo",src:I.a,alt:"React logo",width:"120"}),r.a.createElement("h1",{className:"mb-4"},"MKBot Artisan Discord Bot"),r.a.createElement("p",null,r.a.createElement("img",{src:J.a,width:"400",alt:"demo"})),r.a.createElement("p",{className:"lead"},"Manage and share your artisan collection and the ones you're looking for using a community driven database. All in one place!"))},K=a(31),Y=a(32),G=a(35),Q=a(33),V=a(36),$=a(324),Z=a(325),ee=[{title:"Search",link:"https://auth0.com/docs/connections",description:"Search for an artisan using its maker, collection, sculpt or colorway."},{title:"Community driven database",link:"https://auth0.com/docs/multifactor-authentication",description:"Any user can submit a new entry by dragging a picture of the artisan into Discord and providing with the metadata."},{title:"Community driven curation process",link:"https://auth0.com/docs/anomaly-detection",description:"Assign reviewers that can check the content of each user submission and take action by amending, approving or rejecting."},{title:"Wishlist Matching",link:"https://auth0.com/docs/rules",description:"Allows users to mark artisans for sale and match users that are actively using for them."}],te=function(e){function t(){return Object(K.a)(this,t),Object(G.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"next-steps my-5"},r.a.createElement("h2",{className:"my-5 text-center"},"Features"),r.a.createElement($.a,{className:"d-flex justify-content-between"},ee.map(function(e,t){return r.a.createElement(Z.a,{key:t,md:5,className:"mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{href:e.link},r.a.createElement(x.a,{icon:"link",className:"mr-2"}),e.title)),r.a.createElement("p",null,e.description))})))}}]),t}(n.Component),ae=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(H,null),r.a.createElement("hr",null),r.a.createElement(te,null))},ne=a(336),re=a(337),ce=a(338),se=a(254),le=a(326),oe=function(){return r.a.createElement("div",null,r.a.createElement(le.a,{color:"primary"}))},ie=a(260),ue=a(333),me=a(334),pe=a(335),fe=a(327),je=a(328),de=a(329),he=a(330),be=a(331),ge=a(332),Ee=a(21);var ve=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(f.a)(l,2),i=o[0],u=o[1],m=e.artisan,p=e.onRemove,j=e.onAdd,d=e.processing,h=g().isAuthenticated,b=d&&r.a.createElement(fe.a,{className:"processing"},r.a.createElement(oe,null)),E=function(e){return function(){j&&j(e,m)}},v=j&&c&&r.a.createElement(fe.a,{style:{display:c?"block":"none"}},r.a.createElement(x.a,{icon:Ee.d,color:"black",onClick:E("list")})," \xa0",r.a.createElement(x.a,{icon:Ee.b,color:"black",onClick:E("wishlist")})),k=p&&(i&&r.a.createElement(fe.a,{style:{display:i?"block":"none"}},r.a.createElement(x.a,{icon:Ee.f,color:"black",onClick:function(){u(!1)}})," \xa0",r.a.createElement(x.a,{icon:Ee.a,color:"black",onClick:function(){p&&p(m),s(!1),u(!1)}}))||c&&r.a.createElement(fe.a,{style:{display:c?"block":"none"}},r.a.createElement(x.a,{icon:Ee.g,color:"black",onClick:function(e){return u(!0)}})));return r.a.createElement(Z.a,{key:m.artisan_id,onMouseEnter:function(e){return s(!0)},onMouseLeave:function(e){s(!1),u(!1)}},r.a.createElement(je.a,{className:"mkb-artisan-card"},r.a.createElement(de.a,{top:!0,width:"20%",src:m.image,alt:m.sculpt}),b,h&&v,h&&k,r.a.createElement(he.a,null,r.a.createElement(be.a,null,r.a.createElement("b",null,function(e){var t=e.colorway?" ".concat(e.colorway):"";return"".concat(e.sculpt).concat(t)}(m)," ")),r.a.createElement(ge.a,null,m.maker))))},ke=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("addArtisan",t,a,n),e.next=3,fetch("/api/lists/".concat(a,"/").concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ye=function(e){var t=e.artisans,a=e.searchTerm,c=e.onRemove,s=e.page,l=e.pages,i=e.onPageChange,p=g().getTokenSilently,j=Object(n.useState)(null),d=Object(f.a)(j,2),h=d[0],b=d[1];if(a&&t&&!t.length)return r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,null,"No matches for ",r.a.createElement("b",null,a))));var E=function(e){return i&&i(e)},v=s&&parseInt(s,10),k=l&&parseInt(l,10),y=t.length,O=e.perRow||3,x=O-y%O;if(x<O)for(var w=0;w<x;w++)t.push(null);var S=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("add",t,a),e.next=3,p();case 3:return n=e.sent,b(a.artisan_id),e.next=7,ke(n,t,a.artisan_id);case 7:b(null);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),N=l&&k>1&&r.a.createElement($.a,null,r.a.createElement(Z.a,{className:"mkb-pagination"},r.a.createElement(ue.a,{"aria-label":"Artisans navigation"},r.a.createElement(me.a,{disabled:1===v},r.a.createElement(pe.a,{first:!0,href:"#",onClick:function(e){return E(1)}})),r.a.createElement(me.a,null,r.a.createElement(me.a,{disabled:1===v},r.a.createElement(pe.a,{previous:!0,href:"#",onClick:function(e){return E(v-1)}}))),Array.apply(void 0,Object(ie.a)(Array(k))).map(function(e,t){return r.a.createElement(me.a,{active:t+1===v,key:t},r.a.createElement(pe.a,{href:"#",onClick:function(e){return E(t+1)}},t+1))}),r.a.createElement(me.a,{disabled:v===k},r.a.createElement(pe.a,{next:!0,href:"#",onClick:function(e){return E(v+1)}})),r.a.createElement(me.a,{disabled:v===k},r.a.createElement(pe.a,{last:!0,href:"#",onClick:function(e){return E(k)}})))));return r.a.createElement(o.a,null,N,r.a.createElement($.a,null,t.map(function(e){return e?r.a.createElement(ve,{key:e.artisan_id,onRemove:c,onAdd:S,artisan:e,processing:e.artisan_id===h}):r.a.createElement(Z.a,null)})),N)},Oe=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:1,e.next=3,fetch("/api/artisans/?q=".concat(t,"&page=").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=n.headers,e.abrupt("return",{artisans:r,page:c.get("X-Pagination-Page"),pages:c.get("X-Pagination-TotalPages"),pageSize:c.get("X-Pagination-PerPage")});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xe=function(){g().getTokenSilently;var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(f.a)(s,2),i=l[0],p=l[1],j=Object(n.useState)(1),d=Object(f.a)(j,2),h=d[0],b=d[1],E=Object(n.useState)(null),v=Object(f.a)(E,2),k=v[0],y=v[1],O=Object(n.useState)(!1),x=Object(f.a)(O,2),w=x[0],S=x[1],N=Object(se.a)(a,500),C=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(N,a);case 2:n=e.sent,r=n.artisans,c=n.pages,p(r),b(a),y(c),S(!1);case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){N?(S(!0),Oe(N,h).then(function(e){var t=e.artisans,a=e.pages;p(t),b(h),y(a),S(!1)})):p([])},[N,h]);var P=w?r.a.createElement(oe,null):N?r.a.createElement(ye,{artisans:i,searchTerm:N,pages:k,page:h,perRow:4,onPageChange:function(e){C(N,e)}}):r.a.createElement("div",null),A=N&&i&&i.length?r.a.createElement($.a,null,r.a.createElement(Z.a,null,"Showing ",r.a.createElement("b",null,i.length)," matches for ",r.a.createElement("b",null,N))):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"exampleSearch"},"Search"),r.a.createElement(ce.a,{type:"search",name:"search",id:"exampleSearch",placeholder:"search maker, sculpt and/or colorway",autoComplete:"off",onChange:function(e){return c(e.target.value)}})))),A),P)},we=a(256),Se=a.n(we),Ne=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(f.a)(s,2),i=l[0],u=l[1];if(Object(n.useEffect)(function(){c(!0),Ne().then(function(e){c(!1),u(e)})},[]),a)return r.a.createElement(oe,null);return r.a.createElement(o.a,{className:"mkb-makers"},i.map(function(e){return r.a.createElement($.a,{key:e.maker_id},r.a.createElement(Z.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(e.maker_id,"-").concat(Se()(e.name))},e.name)))}))},Pe=a(339),Ae=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers/".concat(t,"/sculpts"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,c,s,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:1,e.next=3,fetch("/api/makers/".concat(t,"/artisans?sculpt=").concat(a,"&page=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,s=r.headers,e.abrupt("return",{artisans:c,page:s.get("X-Pagination-Page"),pages:s.get("X-Pagination-TotalPages"),pageSize:s.get("X-Pagination-PerPage")});case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.f)().slug,t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),p=Object(f.a)(i,2),j=p[0],d=p[1],h=Object(n.useState)([]),b=Object(f.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(null),k=Object(f.a)(v,2),y=k[0],O=k[1],x=Object(n.useState)([]),N=Object(f.a)(x,2),C=N[0],P=N[1],A=Object(n.useState)(null),q=Object(f.a)(A,2),R=q[0],B=q[1],_=Object(n.useState)(null),D=Object(f.a)(_,2),L=D[0],M=D[1],W=Object(n.useState)(null),z=Object(f.a)(W,2),U=z[0],F=z[1],I=e.split("-")[0];Object(n.useEffect)(function(){s(!0),Ae(I).then(function(e){console.log("sculpts",e),E(e),s(!1)})},[I]);var X=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,s,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,d(!0),e.next=4,Te(I,t,a);case 4:n=e.sent,r=n.artisans,c=n.pages,s=n.pageSize,console.log("artisans",{artisans:r,page:a,pages:c}),O(t),P(r),B(a),M(c),F(s),d(!1);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=c?r.a.createElement(oe,null):r.a.createElement(T.a,{vertical:!0},g.map(function(e){return r.a.createElement(w.a,{key:e.sculpt},r.a.createElement(S.a,{href:"#",onClick:function(t){return X(e.sculpt)}},e.sculpt," ",r.a.createElement(Pe.a,{color:"info",pill:!0},e.count)))})),H=j?r.a.createElement(oe,null):r.a.createElement(ye,{artisans:C,pages:L,page:R,pageSize:U,onPageChange:function(e){X(y,e)}});return r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,{xs:"2"},J),r.a.createElement(Z.a,{xs:"10"},H)))},Re=a(342),Be=function(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],s=a[1];return r.a.createElement(Re.a,{color:"info",isOpen:c,toggle:function(){e.onDismiss&&e.onDismiss(),s(!1)}},e.message)},_e=a(257),De=a.n(_e),Le=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,fetch("/api/user",{headers:{Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Me=Object(l.g)(function(e){var t=g().getTokenSilently,a=Object(n.useState)(),c=Object(f.a)(a,2),s=c[0],l=c[1],o=Object(n.useState)(!0),i=Object(f.a)(o,2),u=i[0],m=i[1],p=De.a.parse(window.location.search).msg;if(Object(n.useEffect)(function(){Le(t).then(function(e){l(e),m(!1)})},[t]),u)return r.a.createElement(oe,null);var j="In order to get started you need to link you Discord account";s.discord_user_id&&(j="You're all set");var d=p&&r.a.createElement(Be,{message:p,onDismiss:function(){var t=e.location,a=e.history;t.search="",a.push(t)}});return r.a.createElement(r.a.Fragment,null,d,r.a.createElement("div",null,j))}),We=a(340),ze=a(258),Ue=a.n(ze),Fe=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers?order=name");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=g().getTokenSilently,t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(null),i=Object(f.a)(l,2),p=i[0],j=i[1],d=Object(n.useState)(null),h=Object(f.a)(d,2),b=h[0],E=h[1],v=Object(n.useState)([]),k=Object(f.a)(v,2),y=k[0],O=k[1],x=Object(n.useState)(null),w=Object(f.a)(x,2),S=w[0],N=w[1],C=Object(n.useState)(null),P=Object(f.a)(C,2),A=P[0],T=P[1],R=Object(n.useState)(null),B=Object(f.a)(R,2),_=B[0],D=B[1],L=Object(n.useState)(null),M=Object(f.a)(L,2),W=M[0],z=M[1],U=Object(n.useState)(!1),F=Object(f.a)(U,2),I=F[0],X=F[1],J=Object(n.useState)(null),H=Object(f.a)(J,2),K=H[0],Y=H[1],G=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),(a=new FileReader).onloadend=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:(t=e.sent).unshift({}),t.push({maker_id:"new",name:"New maker..."}),O(t),s(!1),E(a.result);case 8:case"end":return e.stop()}},e)})),a.readAsDataURL(t.target.files[0]),j(t.target.files[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Q=!p&&r.a.createElement(Z.a,null,r.a.createElement(ne.a,{className:"mkb-files"},r.a.createElement(re.a,{for:"image"},"To start the submission process, select or drag the artisan image to the box below:"),r.a.createElement(ce.a,{type:"file",name:"file",id:"image",onChange:G})));if(c)return r.a.createElement(oe,null);var V=function(){var t=Object(m.a)(u.a.mark(function t(){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return X(!0),t.next=3,e();case 3:return a=t.sent,(n=new FormData).append("maker",A||S),n.append("sculpt",_),n.append("colorway",W),n.append("image",p),t.next=11,Ue.a.put("/api/submissions",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)}});case 11:X(!1),j(null),Y("Thanks for your submission! We'll notify you when it gets processed.");case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ee=K&&r.a.createElement(Be,{color:"success",message:K}),te=!(S&&_&&W),ae=p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{className:"mkb-file-preview",xs:6},r.a.createElement("img",{src:b,alt:"Preview"})),r.a.createElement(Z.a,{xs:6},r.a.createElement(We.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"maker"},"Maker"),r.a.createElement(ce.a,{type:"select",name:"maker",id:"maker",disabled:I,onChange:function(e){return N(e.target.value)}},y.map(function(e,t){return r.a.createElement("option",{key:t},e.name)}))),S&&"New maker..."===S&&r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"newMaker"},"Maker"),r.a.createElement(ce.a,{type:"text",name:"newMaker",id:"newMaker",disabled:I,onChange:function(e){return T(e.target.value)}})),r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"sculpt"},"Sculpt"),r.a.createElement(ce.a,{type:"text",name:"sculpt",id:"sculpt",disabled:I,onChange:function(e){return D(e.target.value)}})),r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"colorway"},"Colorway"),r.a.createElement(ce.a,{type:"text",name:"colorway",id:"colorway",disabled:I,onChange:function(e){return z(e.target.value)}}))),r.a.createElement(o.a,{className:"nopadding"},r.a.createElement($.a,{noGutters:!0},r.a.createElement(Z.a,null,r.a.createElement(q.a,{color:"primary",disabled:I||te,onClick:V},"Submit")),r.a.createElement(Z.a,null,I&&r.a.createElement(oe,null))))));return r.a.createElement(r.a.Fragment,null,ee,r.a.createElement(o.a,null,r.a.createElement($.a,null,Q,ae)))},Xe=a(43),Je=a.n(Xe),He=(a(308),{}),Ke=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(G.a)(this,Object(Q.a)(t).call(this,e))).highlight=function(){a.codeNode&&a.codeNode.current&&Je.a.highlightBlock(a.codeNode.current)},a.state={loaded:!1},a.codeNode=r.a.createRef(),a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.language;if(e&&!He[e])try{var t=a(309)("./".concat(e));Je.a.registerLanguage(e,t),He[e]=!0,this.setState({loaded:!0},this.highlight)}catch(n){throw console.error(n),Error("Cannot register the language ".concat(e))}else this.setState({loaded:!0})}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.children;return this.state.loaded?r.a.createElement("pre",{className:"rounded"},r.a.createElement("code",{ref:this.codeNode,className:t},a)):null}}]),t}(n.Component);Ke.defaultProps={language:"json"};var Ye=Ke,Ge=function(){var e=g(),t=e.loading,a=e.user;return t||!a?r.a.createElement(y,null):r.a.createElement(o.a,{className:"mb-5"},r.a.createElement($.a,{className:"align-items-center profile-header mb-5 text-center text-md-left"},r.a.createElement(Z.a,{md:2},r.a.createElement("img",{src:a.picture,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement(Z.a,{md:!0},r.a.createElement("h2",null,a.name),r.a.createElement("p",{className:"lead text-muted"},a.email))),r.a.createElement($.a,null,r.a.createElement(Ye,null,JSON.stringify(a,null,2))))},Qe=a(259),Ve=a.n(Qe),$e=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.next=5,fetch("/api/user/".concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(a,"/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),et=function(e){var t=e.listType,a=g().getTokenSilently,c=Object(n.useState)(!0),s=Object(f.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)([]),p=Object(f.a)(i,2),j=p[0],d=p[1],h=Object(n.useState)(null),b=Object(f.a)(h,2),E=b[0],v=b[1];Object(n.useEffect)(function(){$e(a,t).then(function(e){d(e),o(!1)})},[a,t]);var k=function(){var e=Object(m.a)(u.a.mark(function e(n){var r,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(n.artisan_id),e.next=3,a();case 3:return r=e.sent,e.next=6,Ze(r,t,n.artisan_id);case 6:c=j.indexOf(n),(s=Ve.a.clone(j)).splice(c,1),d(s),v(null);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(oe,null):j?r.a.createElement(ye,{artisans:j,onRemove:k,processing:E}):r.a.createElement("div",null,"No Artisans")},tt=function(){return r.a.createElement(et,{listType:"list"})},at=(a(311),a(27));var nt=function(){return r.a.createElement(et,{listType:"wishlist"})};(function(){at.b.add(Ee.c),at.b.add(Ee.h),at.b.add(Ee.e)})();var rt=function(){return g().loading?r.a.createElement(y,null):r.a.createElement(l.b,{history:z},r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(L,null),r.a.createElement(o.a,{className:"flex-grow-1 mt-5"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:U}),r.a.createElement(l.a,{path:"/bot",exact:!0,component:ae}),r.a.createElement(l.a,{path:"/artisans",exact:!0,component:xe}),r.a.createElement(l.a,{path:"/catalogs/:slug",component:qe}),r.a.createElement(l.a,{path:"/catalogs",component:Ce}),r.a.createElement(E,{path:"/dashboard",exact:!0,component:Me}),r.a.createElement(E,{path:"/submit",exact:!0,component:Ie}),r.a.createElement(E,{path:"/my-artisans",exact:!0,component:tt}),r.a.createElement(E,{path:"/wishlist",exact:!0,component:nt}),r.a.createElement(E,{path:"/profile",component:Ge}))),r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ct=a(37);s.a.render(r.a.createElement(function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?h:a,s=Object(p.a)(e,["children","onRedirectCallback"]),l=Object(n.useState)(),o=Object(f.a)(l,2),i=o[0],j=o[1],g=Object(n.useState)(),E=Object(f.a)(g,2),v=E[0],k=E[1],y=Object(n.useState)(),O=Object(f.a)(y,2),x=O[0],w=O[1],S=Object(n.useState)(!0),N=Object(f.a)(S,2),C=N[0],P=N[1],A=Object(n.useState)(!1),T=Object(f.a)(A,2),q=T[0],R=T[1];Object(n.useEffect)(function(){!function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(s);case 2:if(t=e.sent,w(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,j(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:l=e.sent,k(l);case 19:P(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var B=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},R(!0),e.prev=2,e.next=5,x.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,R(!1),e.finish(10);case 13:return e.next=15,x.getUser();case 15:a=e.sent,k(a),j(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,x.handleRedirectCallback();case 3:return e.next=5,x.getUser();case 5:t=e.sent,P(!1),j(!0),k(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.Provider,{value:{isAuthenticated:i,user:v,loading:C,popupOpen:q,loginWithPopup:B,handleRedirectCallback:_,getIdTokenClaims:function(){return x.getIdTokenClaims.apply(x,arguments)},loginWithRedirect:function(){return x.loginWithRedirect.apply(x,arguments)},getTokenSilently:function(){return x.getTokenSilently.apply(x,arguments)},getTokenWithPopup:function(){return x.getTokenWithPopup.apply(x,arguments)},logout:function(){return x.logout.apply(x,arguments)}}},t)},{domain:ct.domain,client_id:ct.clientId,audience:ct.audience,redirect_uri:window.location.origin,onRedirectCallback:function(e){z.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e){e.exports={domain:"mrkeebs.auth0.com",clientId:"IAkI2XQ14Vno3SuFceBovm2pT8cpY2Xo",audience:"http://fcoury.pagekite.me/"}}},[[261,1,2]]]);
//# sourceMappingURL=main.947effa4.chunk.js.map