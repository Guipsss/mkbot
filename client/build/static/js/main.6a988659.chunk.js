(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,t,a){e.exports=a.p+"static/media/loading.c5590569.svg"},253:function(e,t,a){e.exports=a.p+"static/media/logo.fe45065c.png"},254:function(e,t,a){e.exports=a.p+"static/media/demo.c9996a1b.gif"},261:function(e,t,a){e.exports=a(312)},266:function(e,t,a){},309:function(e,t,a){var n={"./1c":61,"./1c.js":61,"./abnf":62,"./abnf.js":62,"./accesslog":63,"./accesslog.js":63,"./actionscript":64,"./actionscript.js":64,"./ada":65,"./ada.js":65,"./angelscript":66,"./angelscript.js":66,"./apache":67,"./apache.js":67,"./applescript":68,"./applescript.js":68,"./arcade":69,"./arcade.js":69,"./arduino":70,"./arduino.js":70,"./armasm":71,"./armasm.js":71,"./asciidoc":72,"./asciidoc.js":72,"./aspectj":73,"./aspectj.js":73,"./autohotkey":74,"./autohotkey.js":74,"./autoit":75,"./autoit.js":75,"./avrasm":76,"./avrasm.js":76,"./awk":77,"./awk.js":77,"./axapta":78,"./axapta.js":78,"./bash":79,"./bash.js":79,"./basic":80,"./basic.js":80,"./bnf":81,"./bnf.js":81,"./brainfuck":82,"./brainfuck.js":82,"./cal":83,"./cal.js":83,"./capnproto":84,"./capnproto.js":84,"./ceylon":85,"./ceylon.js":85,"./clean":86,"./clean.js":86,"./clojure":87,"./clojure-repl":88,"./clojure-repl.js":88,"./clojure.js":87,"./cmake":89,"./cmake.js":89,"./coffeescript":90,"./coffeescript.js":90,"./coq":91,"./coq.js":91,"./cos":92,"./cos.js":92,"./cpp":93,"./cpp.js":93,"./crmsh":94,"./crmsh.js":94,"./crystal":95,"./crystal.js":95,"./cs":96,"./cs.js":96,"./csp":97,"./csp.js":97,"./css":98,"./css.js":98,"./d":99,"./d.js":99,"./dart":100,"./dart.js":100,"./delphi":101,"./delphi.js":101,"./diff":102,"./diff.js":102,"./django":103,"./django.js":103,"./dns":104,"./dns.js":104,"./dockerfile":105,"./dockerfile.js":105,"./dos":106,"./dos.js":106,"./dsconfig":107,"./dsconfig.js":107,"./dts":108,"./dts.js":108,"./dust":109,"./dust.js":109,"./ebnf":110,"./ebnf.js":110,"./elixir":111,"./elixir.js":111,"./elm":112,"./elm.js":112,"./erb":113,"./erb.js":113,"./erlang":114,"./erlang-repl":115,"./erlang-repl.js":115,"./erlang.js":114,"./excel":116,"./excel.js":116,"./fix":117,"./fix.js":117,"./flix":118,"./flix.js":118,"./fortran":119,"./fortran.js":119,"./fsharp":120,"./fsharp.js":120,"./gams":121,"./gams.js":121,"./gauss":122,"./gauss.js":122,"./gcode":123,"./gcode.js":123,"./gherkin":124,"./gherkin.js":124,"./glsl":125,"./glsl.js":125,"./gml":126,"./gml.js":126,"./go":127,"./go.js":127,"./golo":128,"./golo.js":128,"./gradle":129,"./gradle.js":129,"./groovy":130,"./groovy.js":130,"./haml":131,"./haml.js":131,"./handlebars":132,"./handlebars.js":132,"./haskell":133,"./haskell.js":133,"./haxe":134,"./haxe.js":134,"./hsp":135,"./hsp.js":135,"./htmlbars":136,"./htmlbars.js":136,"./http":137,"./http.js":137,"./hy":138,"./hy.js":138,"./inform7":139,"./inform7.js":139,"./ini":140,"./ini.js":140,"./irpf90":141,"./irpf90.js":141,"./isbl":142,"./isbl.js":142,"./java":143,"./java.js":143,"./javascript":144,"./javascript.js":144,"./jboss-cli":145,"./jboss-cli.js":145,"./json":146,"./json.js":146,"./julia":147,"./julia-repl":148,"./julia-repl.js":148,"./julia.js":147,"./kotlin":149,"./kotlin.js":149,"./lasso":150,"./lasso.js":150,"./ldif":151,"./ldif.js":151,"./leaf":152,"./leaf.js":152,"./less":153,"./less.js":153,"./lisp":154,"./lisp.js":154,"./livecodeserver":155,"./livecodeserver.js":155,"./livescript":156,"./livescript.js":156,"./llvm":157,"./llvm.js":157,"./lsl":158,"./lsl.js":158,"./lua":159,"./lua.js":159,"./makefile":160,"./makefile.js":160,"./markdown":161,"./markdown.js":161,"./mathematica":162,"./mathematica.js":162,"./matlab":163,"./matlab.js":163,"./maxima":164,"./maxima.js":164,"./mel":165,"./mel.js":165,"./mercury":166,"./mercury.js":166,"./mipsasm":167,"./mipsasm.js":167,"./mizar":168,"./mizar.js":168,"./mojolicious":169,"./mojolicious.js":169,"./monkey":170,"./monkey.js":170,"./moonscript":171,"./moonscript.js":171,"./n1ql":172,"./n1ql.js":172,"./nginx":173,"./nginx.js":173,"./nimrod":174,"./nimrod.js":174,"./nix":175,"./nix.js":175,"./nsis":176,"./nsis.js":176,"./objectivec":177,"./objectivec.js":177,"./ocaml":178,"./ocaml.js":178,"./openscad":179,"./openscad.js":179,"./oxygene":180,"./oxygene.js":180,"./parser3":181,"./parser3.js":181,"./perl":182,"./perl.js":182,"./pf":183,"./pf.js":183,"./pgsql":184,"./pgsql.js":184,"./php":185,"./php.js":185,"./plaintext":186,"./plaintext.js":186,"./pony":187,"./pony.js":187,"./powershell":188,"./powershell.js":188,"./processing":189,"./processing.js":189,"./profile":190,"./profile.js":190,"./prolog":191,"./prolog.js":191,"./properties":192,"./properties.js":192,"./protobuf":193,"./protobuf.js":193,"./puppet":194,"./puppet.js":194,"./purebasic":195,"./purebasic.js":195,"./python":196,"./python.js":196,"./q":197,"./q.js":197,"./qml":198,"./qml.js":198,"./r":199,"./r.js":199,"./reasonml":200,"./reasonml.js":200,"./rib":201,"./rib.js":201,"./roboconf":202,"./roboconf.js":202,"./routeros":203,"./routeros.js":203,"./rsl":204,"./rsl.js":204,"./ruby":205,"./ruby.js":205,"./ruleslanguage":206,"./ruleslanguage.js":206,"./rust":207,"./rust.js":207,"./sas":208,"./sas.js":208,"./scala":209,"./scala.js":209,"./scheme":210,"./scheme.js":210,"./scilab":211,"./scilab.js":211,"./scss":212,"./scss.js":212,"./shell":213,"./shell.js":213,"./smali":214,"./smali.js":214,"./smalltalk":215,"./smalltalk.js":215,"./sml":216,"./sml.js":216,"./sqf":217,"./sqf.js":217,"./sql":218,"./sql.js":218,"./stan":219,"./stan.js":219,"./stata":220,"./stata.js":220,"./step21":221,"./step21.js":221,"./stylus":222,"./stylus.js":222,"./subunit":223,"./subunit.js":223,"./swift":224,"./swift.js":224,"./taggerscript":225,"./taggerscript.js":225,"./tap":226,"./tap.js":226,"./tcl":227,"./tcl.js":227,"./tex":228,"./tex.js":228,"./thrift":229,"./thrift.js":229,"./tp":230,"./tp.js":230,"./twig":231,"./twig.js":231,"./typescript":232,"./typescript.js":232,"./vala":233,"./vala.js":233,"./vbnet":234,"./vbnet.js":234,"./vbscript":235,"./vbscript-html":236,"./vbscript-html.js":236,"./vbscript.js":235,"./verilog":237,"./verilog.js":237,"./vhdl":238,"./vhdl.js":238,"./vim":239,"./vim.js":239,"./x86asm":240,"./x86asm.js":240,"./xl":241,"./xl.js":241,"./xml":242,"./xml.js":242,"./xquery":243,"./xquery.js":243,"./yaml":244,"./yaml.js":244,"./zephir":245,"./zephir.js":245};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=309},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),l=(a(266),a(19)),o=a(316),i=a(7),u=a.n(i),m=a(8),p=a(30),f=a(6),j=a(246),d=a.n(j),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},b=r.a.createContext(),g=function(){return Object(n.useContext)(b)},E=function(e){var t=e.component,a=e.path,c=Object(p.a)(e,["component","path"]),s=g(),o=s.isAuthenticated,i=s.loginWithRedirect;Object(n.useEffect)(function(){!function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return e.next=3,i({appState:{targetUrl:a}});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,i,a]);return r.a.createElement(l.a,Object.assign({path:a,render:function(e){return!0===o?r.a.createElement(t,e):null}},c))},v=a(248),k=a.n(v),y=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:k.a,alt:"Loading"}))},O=a(18),x=a(17),w=a(313),S=a(314),N=a(315),C=a(317),P=a(318),A=a(319),T=a(320),q=a(250),R=a(341),_=a(321),B=a(322),D=a(323),W=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],s=g(),l=s.user,i=s.isAuthenticated,u=s.loginWithRedirect,m=s.logout,p=function(){return m({returnTo:window.location.origin})},j=[{name:"Artisans",path:"/artisans",active:function(e,t){return t.pathname.startsWith("/artisans")||t.pathname.startsWith("/catalogs")}},{name:"My Artisans",path:"/my-artisans",auth:!0},{name:"Wishlist",path:"/wishlist",auth:!0},{name:"Submit",path:"/submit",auth:!0},{name:"Bot",path:"/bot"}].filter(function(e){return!e.hasOwnProperty("auth")||!0===e.auth&&i||!1===e.auth&&!i}).map(function(e){var t=!1!==e.exact;return console.log("linkDef exact",e,t),r.a.createElement(w.a,{key:"nv_".concat(e.name)},r.a.createElement(S.a,{tag:O.a,to:e.path,exact:t,isActive:e.active,activeClassName:"router-link-".concat(!1===t?"":"exact-","active")},e.name))});return r.a.createElement("div",{className:"nav-container"},r.a.createElement(N.a,{color:"light",light:!0,expand:"md"},r.a.createElement(o.a,null,r.a.createElement(C.a,{className:"logo"}),r.a.createElement(P.a,{onClick:function(){return c(!a)}}),r.a.createElement(A.a,{isOpen:a,navbar:!0},r.a.createElement(T.a,{className:"mr-auto",navbar:!0},j),r.a.createElement(T.a,{className:"d-none d-md-block",navbar:!0},!i&&r.a.createElement(w.a,null,r.a.createElement(q.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return u({})}},"Log in")),i&&r.a.createElement(R.a,{nav:!0,inNavbar:!0},r.a.createElement(_.a,{nav:!0,caret:!0,id:"profileDropDown"},r.a.createElement("img",{src:l.picture,alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),r.a.createElement(B.a,null,r.a.createElement(D.a,{header:!0},l.name),r.a.createElement(D.a,{tag:O.a,to:"/profile",className:"dropdown-profile",activeClassName:"router-link-exact-active"},r.a.createElement(x.a,{icon:"user",className:"mr-3"})," Profile"),r.a.createElement(D.a,{id:"qsLogoutBtn",onClick:function(){return p()}},r.a.createElement(x.a,{icon:"power-off",className:"mr-3"})," Log out")))),!i&&r.a.createElement(T.a,{className:"d-md-none",navbar:!0},r.a.createElement(w.a,null,r.a.createElement(q.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return u({})}},"Log in"))),i&&r.a.createElement(T.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},r.a.createElement(w.a,null,r.a.createElement("span",{className:"user-info"},r.a.createElement("img",{src:l.picture,alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),r.a.createElement("h6",{className:"d-inline-block"},l.name))),r.a.createElement(w.a,null,r.a.createElement(x.a,{icon:"user",className:"mr-3"}),r.a.createElement(O.a,{to:"/profile",activeClassName:"router-link-exact-active"},"Profile")),r.a.createElement(w.a,null,r.a.createElement(x.a,{icon:"power-off",className:"mr-3"}),r.a.createElement(O.a,{to:"#",id:"qsLogoutBtn",onClick:function(){return p()}},"Log out")))))))},L=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",null,"Brought to you by ",r.a.createElement("a",{href:"https://mrkeebs.com"},"MrKeebs")))},M=a(14),z=Object(M.a)(),U=Object(l.g)(function(e){return e.history.push("/artisans"),r.a.createElement("div",null,"Home")}),F=a(253),I=a.n(F),X=a(254),J=a.n(X),H=function(){return r.a.createElement("div",{className:"text-center hero my-3"},r.a.createElement("img",{className:"mb-3 app-logo",src:I.a,alt:"React logo",width:"120"}),r.a.createElement("h1",{className:"mb-4"},"MKBot Artisan Discord Bot"),r.a.createElement("p",null,r.a.createElement("img",{src:J.a,width:"400",alt:"demo"})),r.a.createElement("p",{className:"lead"},"Manage and share your artisan collection and the ones you're looking for using a community driven database. All in one place!"))},K=a(31),Y=a(32),G=a(36),Q=a(33),V=a(37),$=a(324),Z=a(325),ee=[{title:"Search",link:"https://auth0.com/docs/connections",description:"Search for an artisan using its maker, collection, sculpt or colorway."},{title:"Community driven database",link:"https://auth0.com/docs/multifactor-authentication",description:"Any user can submit a new entry by dragging a picture of the artisan into Discord and providing with the metadata."},{title:"Community driven curation process",link:"https://auth0.com/docs/anomaly-detection",description:"Assign reviewers that can check the content of each user submission and take action by amending, approving or rejecting."},{title:"Wishlist Matching",link:"https://auth0.com/docs/rules",description:"Allows users to mark artisans for sale and match users that are actively using for them."}],te=function(e){function t(){return Object(K.a)(this,t),Object(G.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"next-steps my-5"},r.a.createElement("h2",{className:"my-5 text-center"},"Features"),r.a.createElement($.a,{className:"d-flex justify-content-between"},ee.map(function(e,t){return r.a.createElement(Z.a,{key:t,md:5,className:"mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{href:e.link},r.a.createElement(x.a,{icon:"link",className:"mr-2"}),e.title)),r.a.createElement("p",null,e.description))})))}}]),t}(n.Component),ae=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(H,null),r.a.createElement("hr",null),r.a.createElement(te,null))},ne=a(336),re=a(337),ce=a(338),se=a(255),le=a(35),oe=a.n(le),ie=a(326),ue=function(){return r.a.createElement("div",null,r.a.createElement(ie.a,{color:"primary"}))},me=a(260),pe=a(333),fe=a(334),je=a(335),de=a(327),he=a(328),be=a(329),ge=a(330),Ee=a(331),ve=a(332),ke=a(21);var ye=function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(f.a)(l,2),i=o[0],u=o[1],m=e.artisan,p=e.onRemove,j=e.onAdd,d=e.processing,h=g().isAuthenticated,b=d&&r.a.createElement(de.a,{className:"processing"},r.a.createElement(ue,null)),E=function(e){return function(){j&&j(e,m)}},v=j&&c&&r.a.createElement(de.a,{style:{display:c?"block":"none"}},r.a.createElement(x.a,{icon:ke.d,color:"black",onClick:E("list")})," \xa0",r.a.createElement(x.a,{icon:ke.b,color:"black",onClick:E("wishlist")})),k=p&&(i&&r.a.createElement(de.a,{style:{display:i?"block":"none"}},r.a.createElement(x.a,{icon:ke.f,color:"black",onClick:function(){u(!1)}})," \xa0",r.a.createElement(x.a,{icon:ke.a,color:"black",onClick:function(){p&&p(m),s(!1),u(!1)}}))||c&&r.a.createElement(de.a,{style:{display:c?"block":"none"}},r.a.createElement(x.a,{icon:ke.g,color:"black",onClick:function(e){return u(!0)}})));return r.a.createElement(Z.a,{key:m.artisan_id,onMouseEnter:function(e){return s(!0)},onMouseLeave:function(e){s(!1),u(!1)}},r.a.createElement(he.a,{className:"mkb-artisan-card"},r.a.createElement(be.a,{top:!0,width:"20%",src:m.image,alt:m.sculpt}),b,h&&v,h&&k,r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement("b",null,function(e){var t=e.colorway?" ".concat(e.colorway):"";return"".concat(e.sculpt).concat(t)}(m)," ")),r.a.createElement(ve.a,null,m.maker))))},Oe=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("addArtisan",t,a,n),e.next=3,fetch("/api/lists/".concat(a,"/").concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),xe=function(e){var t=e.artisans,a=e.searchTerm,c=e.onRemove,s=e.page,l=e.pages,i=e.onPageChange,p=g().getTokenSilently,j=Object(n.useState)(null),d=Object(f.a)(j,2),h=d[0],b=d[1];if(a&&t&&!t.length)return r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,null,"No matches for ",r.a.createElement("b",null,a))));var E=function(e){return i&&i(e)},v=s&&parseInt(s,10),k=l&&parseInt(l,10),y=t.length,O=e.perRow||3,x=O-y%O;if(x<O)for(var w=0;w<x;w++)t.push(null);var S=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("add",t,a),e.next=3,p();case 3:return n=e.sent,b(a.artisan_id),e.next=7,Oe(n,t,a.artisan_id);case 7:b(null);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),N=l&&k>1&&r.a.createElement($.a,null,r.a.createElement(Z.a,{className:"mkb-pagination"},r.a.createElement(pe.a,{"aria-label":"Artisans navigation"},r.a.createElement(fe.a,{disabled:1===v},r.a.createElement(je.a,{first:!0,href:"#",onClick:function(e){return E(1)}})),r.a.createElement(fe.a,null,r.a.createElement(fe.a,{disabled:1===v},r.a.createElement(je.a,{previous:!0,href:"#",onClick:function(e){return E(v-1)}}))),Array.apply(void 0,Object(me.a)(Array(k))).map(function(e,t){return r.a.createElement(fe.a,{active:t+1===v,key:t},r.a.createElement(je.a,{href:"#",onClick:function(e){return E(t+1)}},t+1))}),r.a.createElement(fe.a,{disabled:v===k},r.a.createElement(je.a,{next:!0,href:"#",onClick:function(e){return E(v+1)}})),r.a.createElement(fe.a,{disabled:v===k},r.a.createElement(je.a,{last:!0,href:"#",onClick:function(e){return E(k)}})))));return r.a.createElement(o.a,null,N,r.a.createElement($.a,null,t.map(function(e){return e?r.a.createElement(ye,{key:e.artisan_id,onRemove:c,onAdd:S,artisan:e,processing:e.artisan_id===h}):r.a.createElement(Z.a,null)})),N)},we=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:1,e.next=3,fetch("/api/artisans/?q=".concat(t,"&page=").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=n.headers,e.abrupt("return",{artisans:r,page:c.get("X-Pagination-Page"),pages:c.get("X-Pagination-TotalPages"),pageSize:c.get("X-Pagination-PerPage")});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(f.a)(s,2),i=l[0],p=l[1],j=Object(n.useState)(1),d=Object(f.a)(j,2),h=d[0],b=d[1],g=Object(n.useState)(null),E=Object(f.a)(g,2),v=E[0],k=E[1],y=Object(n.useState)(!1),x=Object(f.a)(y,2),w=x[0],S=x[1],N=Object(n.useState)([]),C=Object(f.a)(N,2),P=C[0],A=C[1],T=Object(se.a)(a,500),q=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(T,a);case 2:n=e.sent,r=n.artisans,c=n.pages,p(r),b(a),k(c),S(!1);case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){S(!0),Se().then(function(e){A(e),T?we(T,h).then(function(e){var t=e.artisans,a=e.pages;p(t),b(h),k(a),S(!1)}):(p([]),S(!1))})},[T,h]);var R=w?r.a.createElement(ue,null):T?r.a.createElement(xe,{artisans:i,searchTerm:T,pages:v,page:h,perRow:4,onPageChange:function(e){q(T,e)}}):r.a.createElement("div",null),_=T&&i&&i.length?r.a.createElement($.a,null,r.a.createElement(Z.a,null,"Showing ",r.a.createElement("b",null,i.length)," matches for ",r.a.createElement("b",null,T))):null,B=!T&&r.a.createElement(o.a,{className:"mkb-makers"},P.map(function(e){return r.a.createElement($.a,{key:e.maker_id},r.a.createElement(Z.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(e.maker_id,"-").concat(oe()(e.name))},e.name)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"exampleSearch"},"Search"),r.a.createElement(ce.a,{type:"search",name:"search",id:"exampleSearch",placeholder:"search maker, sculpt and/or colorway",autoComplete:"off",onChange:function(e){return c(e.target.value)}})))),_),B,R)},Ce=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),l=Object(f.a)(s,2),i=l[0],u=l[1];if(Object(n.useEffect)(function(){c(!0),Ce().then(function(e){c(!1),u(e)})},[]),a)return r.a.createElement(ue,null);return r.a.createElement(o.a,{className:"mkb-makers"},i.map(function(e){return r.a.createElement($.a,{key:e.maker_id},r.a.createElement(Z.a,null,r.a.createElement(O.a,{to:"/catalogs/".concat(e.maker_id,"-").concat(oe()(e.name))},e.name)))}))},Ae=a(339),Te=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers/".concat(t,"/sculpts"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r,c,s,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:1,e.next=3,fetch("/api/makers/".concat(t,"/artisans?sculpt=").concat(a,"&page=").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,s=r.headers,e.abrupt("return",{artisans:c,page:s.get("X-Pagination-Page"),pages:s.get("X-Pagination-TotalPages"),pageSize:s.get("X-Pagination-PerPage")});case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(l.f)().slug,t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),p=Object(f.a)(i,2),j=p[0],d=p[1],h=Object(n.useState)([]),b=Object(f.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(null),k=Object(f.a)(v,2),y=k[0],O=k[1],x=Object(n.useState)([]),N=Object(f.a)(x,2),C=N[0],P=N[1],A=Object(n.useState)(null),q=Object(f.a)(A,2),R=q[0],_=q[1],B=Object(n.useState)(null),D=Object(f.a)(B,2),W=D[0],L=D[1],M=Object(n.useState)(null),z=Object(f.a)(M,2),U=z[0],F=z[1],I=e.split("-")[0];Object(n.useEffect)(function(){s(!0),Te(I).then(function(e){console.log("sculpts",e),E(e),s(!1)})},[I]);var X=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,r,c,s,l=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,d(!0),e.next=4,qe(I,t,a);case 4:n=e.sent,r=n.artisans,c=n.pages,s=n.pageSize,console.log("artisans",{artisans:r,page:a,pages:c}),O(t),P(r),_(a),L(c),F(s),d(!1);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=c?r.a.createElement(ue,null):r.a.createElement(T.a,{vertical:!0},g.map(function(e){return r.a.createElement(w.a,{key:e.sculpt},r.a.createElement(S.a,{href:"#",onClick:function(t){return X(e.sculpt)}},e.sculpt," ",r.a.createElement(Ae.a,{color:"info",pill:!0},e.count)))})),H=j?r.a.createElement(ue,null):r.a.createElement(xe,{artisans:C,pages:W,page:R,pageSize:U,onPageChange:function(e){X(y,e)}});return r.a.createElement(o.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,{xs:"2"},J),r.a.createElement(Z.a,{xs:"10"},H)))},_e=a(342),Be=function(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],s=a[1];return r.a.createElement(_e.a,{color:"info",isOpen:c,toggle:function(){e.onDismiss&&e.onDismiss(),s(!1)}},e.message)},De=a(257),We=a.n(De),Le=function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.next=5,fetch("/api/user",{headers:{Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Me=Object(l.g)(function(e){var t=g().getTokenSilently,a=Object(n.useState)(),c=Object(f.a)(a,2),s=c[0],l=c[1],o=Object(n.useState)(!0),i=Object(f.a)(o,2),u=i[0],m=i[1],p=We.a.parse(window.location.search).msg;if(Object(n.useEffect)(function(){Le(t).then(function(e){l(e),m(!1)})},[t]),u)return r.a.createElement(ue,null);var j="In order to get started you need to link you Discord account";s.discord_user_id&&(j="You're all set");var d=p&&r.a.createElement(Be,{message:p,onDismiss:function(){var t=e.location,a=e.history;t.search="",a.push(t)}});return r.a.createElement(r.a.Fragment,null,d,r.a.createElement("div",null,j))}),ze=a(340),Ue=a(258),Fe=a.n(Ue),Ie=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/makers?order=name");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=g().getTokenSilently,t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(null),i=Object(f.a)(l,2),p=i[0],j=i[1],d=Object(n.useState)(null),h=Object(f.a)(d,2),b=h[0],E=h[1],v=Object(n.useState)([]),k=Object(f.a)(v,2),y=k[0],O=k[1],x=Object(n.useState)(null),w=Object(f.a)(x,2),S=w[0],N=w[1],C=Object(n.useState)(null),P=Object(f.a)(C,2),A=P[0],T=P[1],R=Object(n.useState)(null),_=Object(f.a)(R,2),B=_[0],D=_[1],W=Object(n.useState)(null),L=Object(f.a)(W,2),M=L[0],z=L[1],U=Object(n.useState)(!1),F=Object(f.a)(U,2),I=F[0],X=F[1],J=Object(n.useState)(null),H=Object(f.a)(J,2),K=H[0],Y=H[1],G=function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),(a=new FileReader).onloadend=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie();case 2:(t=e.sent).unshift({}),t.push({maker_id:"new",name:"New maker..."}),O(t),s(!1),E(a.result);case 8:case"end":return e.stop()}},e)})),a.readAsDataURL(t.target.files[0]),j(t.target.files[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Q=!p&&r.a.createElement(Z.a,null,r.a.createElement(ne.a,{className:"mkb-files"},r.a.createElement(re.a,{for:"image"},"To start the submission process, select or drag the artisan image to the box below:"),r.a.createElement(ce.a,{type:"file",name:"file",id:"image",onChange:G})));if(c)return r.a.createElement(ue,null);var V=function(){var t=Object(m.a)(u.a.mark(function t(){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return X(!0),t.next=3,e();case 3:return a=t.sent,(n=new FormData).append("maker",A||S),n.append("sculpt",B),n.append("colorway",M),n.append("image",p),t.next=11,Fe.a.put("/api/submissions",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)}});case 11:X(!1),j(null),Y("Thanks for your submission! We'll notify you when it gets processed.");case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ee=K&&r.a.createElement(Be,{color:"success",message:K}),te=!(S&&B&&M),ae=p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{className:"mkb-file-preview",xs:6},r.a.createElement("img",{src:b,alt:"Preview"})),r.a.createElement(Z.a,{xs:6},r.a.createElement(ze.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"maker"},"Maker"),r.a.createElement(ce.a,{type:"select",name:"maker",id:"maker",disabled:I,onChange:function(e){return N(e.target.value)}},y.map(function(e,t){return r.a.createElement("option",{key:t},e.name)}))),S&&"New maker..."===S&&r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"newMaker"},"Maker"),r.a.createElement(ce.a,{type:"text",name:"newMaker",id:"newMaker",disabled:I,onChange:function(e){return T(e.target.value)}})),r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"sculpt"},"Sculpt"),r.a.createElement(ce.a,{type:"text",name:"sculpt",id:"sculpt",disabled:I,onChange:function(e){return D(e.target.value)}})),r.a.createElement(ne.a,null,r.a.createElement(re.a,{for:"colorway"},"Colorway"),r.a.createElement(ce.a,{type:"text",name:"colorway",id:"colorway",disabled:I,onChange:function(e){return z(e.target.value)}}))),r.a.createElement(o.a,{className:"nopadding"},r.a.createElement($.a,{noGutters:!0},r.a.createElement(Z.a,null,r.a.createElement(q.a,{color:"primary",disabled:I||te,onClick:V},"Submit")),r.a.createElement(Z.a,null,I&&r.a.createElement(ue,null))))));return r.a.createElement(r.a.Fragment,null,ee,r.a.createElement(o.a,null,r.a.createElement($.a,null,Q,ae)))},Je=a(44),He=a.n(Je),Ke=(a(308),{}),Ye=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(G.a)(this,Object(Q.a)(t).call(this,e))).highlight=function(){a.codeNode&&a.codeNode.current&&He.a.highlightBlock(a.codeNode.current)},a.state={loaded:!1},a.codeNode=r.a.createRef(),a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.language;if(e&&!Ke[e])try{var t=a(309)("./".concat(e));He.a.registerLanguage(e,t),Ke[e]=!0,this.setState({loaded:!0},this.highlight)}catch(n){throw console.error(n),Error("Cannot register the language ".concat(e))}else this.setState({loaded:!0})}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.children;return this.state.loaded?r.a.createElement("pre",{className:"rounded"},r.a.createElement("code",{ref:this.codeNode,className:t},a)):null}}]),t}(n.Component);Ye.defaultProps={language:"json"};var Ge=Ye,Qe=function(){var e=g(),t=e.loading,a=e.user;return t||!a?r.a.createElement(y,null):r.a.createElement(o.a,{className:"mb-5"},r.a.createElement($.a,{className:"align-items-center profile-header mb-5 text-center text-md-left"},r.a.createElement(Z.a,{md:2},r.a.createElement("img",{src:a.picture,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement(Z.a,{md:!0},r.a.createElement("h2",null,a.name),r.a.createElement("p",{className:"lead text-muted"},a.email))),r.a.createElement($.a,null,r.a.createElement(Ge,null,JSON.stringify(a,null,2))))},Ve=a(259),$e=a.n(Ve),Ze=function(){var e=Object(m.a)(u.a.mark(function e(t,a){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.next=5,fetch("/api/user/".concat(a),{headers:{Authorization:"Bearer ".concat(n)}});case 5:return r=e.sent,e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),et=function(){var e=Object(m.a)(u.a.mark(function e(t,a,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/lists/".concat(a,"/").concat(n),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),tt=function(e){var t=e.listType,a=g().getTokenSilently,c=Object(n.useState)(!0),s=Object(f.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)([]),p=Object(f.a)(i,2),j=p[0],d=p[1],h=Object(n.useState)(null),b=Object(f.a)(h,2),E=b[0],v=b[1];Object(n.useEffect)(function(){Ze(a,t).then(function(e){d(e),o(!1)})},[a,t]);var k=function(){var e=Object(m.a)(u.a.mark(function e(n){var r,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(n.artisan_id),e.next=3,a();case 3:return r=e.sent,e.next=6,et(r,t,n.artisan_id);case 6:c=j.indexOf(n),(s=$e.a.clone(j)).splice(c,1),d(s),v(null);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(ue,null):j?r.a.createElement(xe,{artisans:j,onRemove:k,processing:E}):r.a.createElement("div",null,"No Artisans")},at=function(){return r.a.createElement(tt,{listType:"list"})},nt=(a(311),a(27));var rt=function(){return r.a.createElement(tt,{listType:"wishlist"})};(function(){nt.b.add(ke.c),nt.b.add(ke.h),nt.b.add(ke.e)})();var ct=function(){return g().loading?r.a.createElement(y,null):r.a.createElement(l.b,{history:z},r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(W,null),r.a.createElement(o.a,{className:"flex-grow-1 mt-5"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:U}),r.a.createElement(l.a,{path:"/bot",exact:!0,component:ae}),r.a.createElement(l.a,{path:"/artisans",exact:!0,component:Ne}),r.a.createElement(l.a,{path:"/catalogs/:slug",component:Re}),r.a.createElement(l.a,{path:"/catalogs",component:Pe}),r.a.createElement(E,{path:"/dashboard",exact:!0,component:Me}),r.a.createElement(E,{path:"/submit",exact:!0,component:Xe}),r.a.createElement(E,{path:"/my-artisans",exact:!0,component:at}),r.a.createElement(E,{path:"/wishlist",exact:!0,component:rt}),r.a.createElement(E,{path:"/profile",component:Qe}))),r.a.createElement(L,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=a(38);s.a.render(r.a.createElement(function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?h:a,s=Object(p.a)(e,["children","onRedirectCallback"]),l=Object(n.useState)(),o=Object(f.a)(l,2),i=o[0],j=o[1],g=Object(n.useState)(),E=Object(f.a)(g,2),v=E[0],k=E[1],y=Object(n.useState)(),O=Object(f.a)(y,2),x=O[0],w=O[1],S=Object(n.useState)(!0),N=Object(f.a)(S,2),C=N[0],P=N[1],A=Object(n.useState)(!1),T=Object(f.a)(A,2),q=T[0],R=T[1];Object(n.useEffect)(function(){!function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(s);case 2:if(t=e.sent,w(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,c(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,j(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:l=e.sent,k(l);case 19:P(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var _=function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},R(!0),e.prev=2,e.next=5,x.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,R(!1),e.finish(10);case 13:return e.next=15,x.getUser();case 15:a=e.sent,k(a),j(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,x.handleRedirectCallback();case 3:return e.next=5,x.getUser();case 5:t=e.sent,P(!1),j(!0),k(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.Provider,{value:{isAuthenticated:i,user:v,loading:C,popupOpen:q,loginWithPopup:_,handleRedirectCallback:B,getIdTokenClaims:function(){return x.getIdTokenClaims.apply(x,arguments)},loginWithRedirect:function(){return x.loginWithRedirect.apply(x,arguments)},getTokenSilently:function(){return x.getTokenSilently.apply(x,arguments)},getTokenWithPopup:function(){return x.getTokenWithPopup.apply(x,arguments)},logout:function(){return x.logout.apply(x,arguments)}}},t)},{domain:st.domain,client_id:st.clientId,audience:st.audience,redirect_uri:window.location.origin,onRedirectCallback:function(e){z.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e){e.exports={domain:"mrkeebs.auth0.com",clientId:"IAkI2XQ14Vno3SuFceBovm2pT8cpY2Xo",audience:"http://fcoury.pagekite.me/"}}},[[261,1,2]]]);
//# sourceMappingURL=main.6a988659.chunk.js.map